## 覆盖范围
- 维修手册精准检索与定位（章节/页码/段落、版本切换）
- 自然语言问答（RAG），支持 inputs/filters 与附件

## 测试用例（表格）

| 测试用例ID | 测试用例名称 | 前置条件 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|---|---|---|---|---|---|---|
| KB-MAN-001 | 手册定位（正常命中） | 已有“维修手册知识库”文档已启用 | 1. 打开检索台 2. 输入“如何复位燃油控制单元？” 3. 限定知识库=维修手册 | 返回手册名称、章节/页码/段落与预览；可跳转详情 | | |
| KB-MAN-002 | 手册未命中建议 | 手册覆盖有限 | 1. 输入冷门问题 2. 执行 | 返回相近章节建议与关键词提示 | | |
| KB-MAN-003 | 版本切换与对比 | 存在多个 manual_version | 1. 命中结果后切换版本 2. 对比差异 | 展示不同版本定位与差异；可切换回默认 | | |
| KB-MAN-004 | 版本缺失处理 | 某版本不存在 | 1. 指定不存在版本 2. 执行 | 允许选择其他有效版本或提交补齐请求 | | |
| KB-QA-001 | 问答含业务变量过滤 | 已配置 inputs 字段 | 1. 发送问题“X100启动失败怎么处理？” 2. 设置 inputs.device_model=X100 | 检索受 inputs 过滤影响，答案含引用与置信度 | | |
| KB-QA-002 | 问答携带附件 | 有上传权限 | 1. 上传附件（日志/图片） 2. 发送问题并引用附件 | 附件ID被关联，答案可参考附件内容 | | |
| KB-QA-003 | 低相关重试与提示 | 数据相关性弱 | 1. 提问低相关问题 | 触发放宽阈值或改写策略，仍不足提示补充信息 | | |

