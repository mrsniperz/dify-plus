# 智能排程系统环境配置示例
# Intelligent Scheduling System Environment Configuration Example

# =============================================================================
# 基本配置 (Basic Configuration)
# =============================================================================

# 运行环境: development, testing, staging, production
ENVIRONMENT=development

# 调试模式
DEBUG=true

# 应用信息
APP_NAME=智能排程系统
APP_VERSION=0.1.0

# =============================================================================
# API配置 (API Configuration)
# =============================================================================

# API服务器配置
API_HOST=0.0.0.0
API_PORT=8000

# CORS配置 (多个源用逗号分隔)
API_CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000,http://127.0.0.1:8080

# 请求限制
API_MAX_REQUEST_SIZE=16777216  # 16MB
API_REQUEST_TIMEOUT=300        # 5分钟

# 分页配置
API_DEFAULT_PAGE_SIZE=20
API_MAX_PAGE_SIZE=100

# 文档配置
API_ENABLE_DOCS=true
API_DOCS_URL=/docs

# =============================================================================
# 数据库配置 (Database Configuration)
# =============================================================================

# 数据库连接URL
DATABASE_URL=sqlite:///./scheduling.db

# 连接池配置
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# 查询配置
DB_ECHO_SQL=false

# =============================================================================
# Redis配置 (Redis Configuration)
# =============================================================================

# Redis连接URL
REDIS_URL=redis://localhost:6379/0

# 连接配置
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_ON_TIMEOUT=true

# 缓存配置
REDIS_DEFAULT_TTL=3600  # 1小时

# =============================================================================
# 求解器配置 (Solver Configuration)
# =============================================================================

# 默认求解器
SOLVER_DEFAULT=cpsat

# 时间限制 (秒)
SOLVER_TIME_LIMIT=300.0
SOLVER_SINGLE_PACKAGE_LIMIT=5.0
SOLVER_MULTI_PACKAGE_LIMIT=20.0

# 并行配置
SOLVER_MAX_WORKERS=4
SOLVER_ENABLE_PARALLEL=true

# 日志配置
SOLVER_LOG_PROGRESS=false

# =============================================================================
# 日志配置 (Logging Configuration)
# =============================================================================

# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日志格式
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# 日志文件 (留空表示不写入文件)
LOG_FILE=

# 日志文件大小限制 (字节)
LOG_MAX_SIZE=104857600  # 100MB

# 日志文件备份数量
LOG_BACKUP_COUNT=5

# 结构化日志
LOG_ENABLE_JSON=false

# =============================================================================
# 安全配置 (Security Configuration)
# =============================================================================

# JWT密钥 (生产环境请使用强密钥)
SECRET_KEY=your-secret-key-change-in-production

# JWT算法
JWT_ALGORITHM=HS256

# JWT过期时间 (分钟)
JWT_EXPIRE_MINUTES=30

# API密钥 (多个密钥用逗号分隔)
API_KEYS=

# 速率限制
SECURITY_ENABLE_RATE_LIMITING=true
SECURITY_RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# 业务配置 (Business Configuration)
# =============================================================================

# 默认策略模板: balanced, protect_sla, cost_min
BUSINESS_DEFAULT_PRIORITY_TEMPLATE=balanced

# 准备窗口 (天)
BUSINESS_DEFAULT_PREP_WINDOW_DAYS=2

# 插单护栏
BUSINESS_MAX_PREEMPTIONS_PER_DAY=2
BUSINESS_MAX_PREEMPTION_HOURS=4

# SLA配置
BUSINESS_SLA_RISK_THRESHOLD_HOURS=24

# 关键路径配置
BUSINESS_CRITICAL_PATH_DELAY_THRESHOLD_HOURS=2

# =============================================================================
# 开发配置 (Development Configuration)
# =============================================================================

# 开发模式下的特殊配置
# 这些配置仅在ENVIRONMENT=development时生效

# 自动重载
DEV_AUTO_RELOAD=true

# 详细错误信息
DEV_SHOW_ERROR_DETAILS=true

# 测试数据
DEV_USE_TEST_DATA=false

# =============================================================================
# 生产配置 (Production Configuration)
# =============================================================================

# 生产环境下的特殊配置
# 这些配置仅在ENVIRONMENT=production时生效

# 性能优化
PROD_ENABLE_GZIP=true
PROD_ENABLE_CACHE=true

# 监控配置
PROD_ENABLE_METRICS=true
PROD_METRICS_ENDPOINT=/metrics

# 健康检查
PROD_HEALTH_CHECK_INTERVAL=30
