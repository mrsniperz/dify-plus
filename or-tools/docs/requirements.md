# 智能排程功能 - 业务需求文档

## 1. 项目背景与目标

根据公司对“维修规划及资源智能化”的总体要求，本项目旨在通过AI技术智能化生成和调整发动机QEC（Quick Engine Change）维修计划，核心是优化航材、人员、工具、场地等关键资源的配置效率。

**最终目标**：建立一个能够响应实时变化、满足复杂业务约束、并以“总工时最短、成本最低、资源利用率最高”为导向的智能调度引擎。

## 2. 核心业务概念

### 2.1 调度单元：工卡子项目 (Job)

- **定义**: 排程系统中最基础的原子任务，对应工卡中一个具体的操作步骤（如 `AMM TASK 71-51-43-400-001-A`）。
- **关键信息**: 每个子项目都明确关联了其所需的**基准工时**、**资源清单**（人力、航材、工具）和**前置依赖关系**。

### 2.2 核心资源 (Resource)

- **人力资源**: 
  - **属性**: 员工、资质、排班、历史绩效（在特定任务上的熟练度）。
  - **业务要求**: 系统需根据任务的资质要求，在可用班次内，优先选择历史绩效更好的员工。
- **物理资源**:
  - **分类**: 工具、航材、大型设备（如行车）、工位。
  - **业务要求**: 系统需实时跟踪各类资源的可用数量和状态。

### 2.3 外部不确定性因素

- **定义**: 影响计划但无法预先确定的外部变量。
- **主要来源**: 发动机到场时间、缺件航材的预计到货时间、工具外借归还时间等。
- **业务要求**: 系统必须能够接收这些动态信息，并自动调整后续的计划。

## 3. 业务规则与约束

### 3.1 硬约束 (必须满足)
1.  **工作流程**: 必须严格遵守工卡子项目之间定义的前后置依赖关系。
2.  **资源独占**: 同一时刻，一个资源（如一个检验员、一个特定工位）只能用于一个任务。
3.  **资质匹配**: 执行任务的人员必须具备相应的从业资质。
4.  **物料齐全**: 任务开工前，所需的航材必须齐备。
5.  **数量限制**: 并行任务所占用的资源总数不能超过可用资源的总量。

### 3.2 软约束 (优化方向)
1.  **优才优用**: 优先将任务分配给历史绩效更好的“熟手”。
2.  **减少等待**: 优化任务顺序，最大限度减少因等待人、机、料、法、环而产生的无效工时。
3.  **工作连续性**: 鼓励将连续的、相关的任务分配给同一个人或班组，减少沟通和交接成本。

## 4. 核心功能列表

- **维修计划智能化生成**: 系统根据输入的维修需求（一个或多个发动机工卡），自动生成最优的初始执行计划。
- **维修计划智能化调整**: 当出现冲突（如行车使用冲突）或接收到外部不确定性信息时，系统自动对未开始的任务进行重排，给出调整建议。
- **资源规划智能化**: 
  - **航材**: 预测航材需求，为短期资源保障提供数据支持。
  - **人员**: 辅助进行人员排班和任务分配。
  - **工具**: 提高工具周转率和使用率。
